(this.webpackJsonpcodebook=this.webpackJsonpcodebook||[]).push([[121],{140:function(e,t,n){e.exports=n(163)},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},159:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){var a={"./apl/apl":[36,26],"./apl/apl.js":[36,26],"./asciiarmor/asciiarmor":[37,27],"./asciiarmor/asciiarmor.js":[37,27],"./asn.1/asn.1":[38,28],"./asn.1/asn.1.js":[38,28],"./asterisk/asterisk":[39,29],"./asterisk/asterisk.js":[39,29],"./brainfuck/brainfuck":[40,30],"./brainfuck/brainfuck.js":[40,30],"./clike/clike":[24,2],"./clike/clike.js":[24,2],"./clojure/clojure":[41,31],"./clojure/clojure.js":[41,31],"./cmake/cmake":[42,32],"./cmake/cmake.js":[42,32],"./cobol/cobol":[43,33],"./cobol/cobol.js":[43,33],"./coffeescript/coffeescript":[25,34],"./coffeescript/coffeescript.js":[25,34],"./commonlisp/commonlisp":[44,35],"./commonlisp/commonlisp.js":[44,35],"./crystal/crystal":[45,36],"./crystal/crystal.js":[45,36],"./css/css":[21,1],"./css/css.js":[21,1],"./cypher/cypher":[46,37],"./cypher/cypher.js":[46,37],"./d/d":[47,38],"./d/d.js":[47,38],"./dart/dart":[48,2,39],"./dart/dart.js":[48,2,39],"./diff/diff":[49,40],"./diff/diff.js":[49,40],"./django/django":[50,0,1,8],"./django/django.js":[50,0,1,8],"./dockerfile/dockerfile":[51,18],"./dockerfile/dockerfile.js":[51,18],"./dtd/dtd":[52,41],"./dtd/dtd.js":[52,41],"./dylan/dylan":[53,42],"./dylan/dylan.js":[53,42],"./ebnf/ebnf":[54,43],"./ebnf/ebnf.js":[54,43],"./ecl/ecl":[55,44],"./ecl/ecl.js":[55,44],"./eiffel/eiffel":[56,45],"./eiffel/eiffel.js":[56,45],"./elm/elm":[57,46],"./elm/elm.js":[57,46],"./erlang/erlang":[58,47],"./erlang/erlang.js":[58,47],"./factor/factor":[59,19],"./factor/factor.js":[59,19],"./fcl/fcl":[60,48],"./fcl/fcl.js":[60,48],"./forth/forth":[61,49],"./forth/forth.js":[61,49],"./fortran/fortran":[62,50],"./fortran/fortran.js":[62,50],"./gas/gas":[63,51],"./gas/gas.js":[63,51],"./gfm/gfm":[64,4,17],"./gfm/gfm.js":[64,4,17],"./gherkin/gherkin":[65,52],"./gherkin/gherkin.js":[65,52],"./go/go":[66,53],"./go/go.js":[66,53],"./groovy/groovy":[67,54],"./groovy/groovy.js":[67,54],"./haml/haml":[68,0,1,11],"./haml/haml.js":[68,0,1,11],"./handlebars/handlebars":[27,13],"./handlebars/handlebars.js":[27,13],"./haskell-literate/haskell-literate":[69,22],"./haskell-literate/haskell-literate.js":[69,22],"./haskell/haskell":[28,55],"./haskell/haskell.js":[28,55],"./haxe/haxe":[70,56],"./haxe/haxe.js":[70,56],"./htmlembedded/htmlembedded":[71,0,1,7],"./htmlembedded/htmlembedded.js":[71,0,1,7],"./htmlmixed/htmlmixed":[20,0,1,23],"./htmlmixed/htmlmixed.js":[20,0,1,23],"./http/http":[72,57],"./http/http.js":[72,57],"./idl/idl":[73,58],"./idl/idl.js":[73,58],"./javascript/javascript":[22,0],"./javascript/javascript.js":[22,0],"./jinja2/jinja2":[74,59],"./jinja2/jinja2.js":[74,59],"./jsx/jsx":[75,0,24],"./jsx/jsx.js":[75,0,24],"./julia/julia":[76,60],"./julia/julia.js":[76,60],"./livescript/livescript":[77,61],"./livescript/livescript.js":[77,61],"./lua/lua":[78,62],"./lua/lua.js":[78,62],"./markdown/markdown":[33,4],"./markdown/markdown.js":[33,4],"./mathematica/mathematica":[79,63],"./mathematica/mathematica.js":[79,63],"./mbox/mbox":[80,64],"./mbox/mbox.js":[80,64],"./meta":[26,65],"./meta.js":[26,65],"./mirc/mirc":[81,66],"./mirc/mirc.js":[81,66],"./mllike/mllike":[82,67],"./mllike/mllike.js":[82,67],"./modelica/modelica":[83,68],"./modelica/modelica.js":[83,68],"./mscgen/mscgen":[84,69],"./mscgen/mscgen.js":[84,69],"./mumps/mumps":[85,70],"./mumps/mumps.js":[85,70],"./nginx/nginx":[86,71],"./nginx/nginx.js":[86,71],"./nsis/nsis":[87,20],"./nsis/nsis.js":[87,20],"./ntriples/ntriples":[88,72],"./ntriples/ntriples.js":[88,72],"./octave/octave":[89,73],"./octave/octave.js":[89,73],"./oz/oz":[90,74],"./oz/oz.js":[90,74],"./pascal/pascal":[91,75],"./pascal/pascal.js":[91,75],"./pegjs/pegjs":[92,0,76],"./pegjs/pegjs.js":[92,0,76],"./perl/perl":[93,77],"./perl/perl.js":[93,77],"./php/php":[94,0,1,2,14],"./php/php.js":[94,0,1,2,14],"./pig/pig":[95,78],"./pig/pig.js":[95,78],"./powershell/powershell":[96,79],"./powershell/powershell.js":[96,79],"./properties/properties":[97,80],"./properties/properties.js":[97,80],"./protobuf/protobuf":[98,81],"./protobuf/protobuf.js":[98,81],"./pug/pug":[34,0,1,3],"./pug/pug.js":[34,0,1,3],"./puppet/puppet":[99,82],"./puppet/puppet.js":[99,82],"./python/python":[29,83],"./python/python.js":[29,83],"./q/q":[100,84],"./q/q.js":[100,84],"./r/r":[101,85],"./r/r.js":[101,85],"./rpm/changes/index.html":[164,126],"./rpm/rpm":[102,86],"./rpm/rpm.js":[102,86],"./rst/rst":[103,10],"./rst/rst.js":[103,10],"./ruby/ruby":[23,87],"./ruby/ruby.js":[23,87],"./rust/rust":[104,21],"./rust/rust.js":[104,21],"./sas/sas":[105,88],"./sas/sas.js":[105,88],"./sass/sass":[31,1,89],"./sass/sass.js":[31,1,89],"./scheme/scheme":[106,90],"./scheme/scheme.js":[106,90],"./shell/shell":[107,91],"./shell/shell.js":[107,91],"./sieve/sieve":[108,92],"./sieve/sieve.js":[108,92],"./slim/slim":[109,0,1,12],"./slim/slim.js":[109,0,1,12],"./smalltalk/smalltalk":[110,93],"./smalltalk/smalltalk.js":[110,93],"./smarty/smarty":[111,94],"./smarty/smarty.js":[111,94],"./solr/solr":[112,95],"./solr/solr.js":[112,95],"./soy/soy":[113,0,1,15],"./soy/soy.js":[113,0,1,15],"./sparql/sparql":[114,96],"./sparql/sparql.js":[114,96],"./spreadsheet/spreadsheet":[115,97],"./spreadsheet/spreadsheet.js":[115,97],"./sql/sql":[116,98],"./sql/sql.js":[116,98],"./stex/stex":[30,99],"./stex/stex.js":[30,99],"./stylus/stylus":[35,5],"./stylus/stylus.js":[35,5],"./swift/swift":[117,100],"./swift/swift.js":[117,100],"./tcl/tcl":[118,101],"./tcl/tcl.js":[118,101],"./textile/textile":[119,102],"./textile/textile.js":[119,102],"./tiddlywiki/tiddlywiki":[120,103],"./tiddlywiki/tiddlywiki.css":[165,124],"./tiddlywiki/tiddlywiki.js":[120,103],"./tiki/tiki":[121,104],"./tiki/tiki.css":[166,125],"./tiki/tiki.js":[121,104],"./toml/toml":[122,105],"./toml/toml.js":[122,105],"./tornado/tornado":[123,0,1,9],"./tornado/tornado.js":[123,0,1,9],"./troff/troff":[124,106],"./troff/troff.js":[124,106],"./ttcn-cfg/ttcn-cfg":[126,107],"./ttcn-cfg/ttcn-cfg.js":[126,107],"./ttcn/ttcn":[125,108],"./ttcn/ttcn.js":[125,108],"./turtle/turtle":[127,109],"./turtle/turtle.js":[127,109],"./twig/twig":[128,16],"./twig/twig.js":[128,16],"./vb/vb":[129,110],"./vb/vb.js":[129,110],"./vbscript/vbscript":[130,111],"./vbscript/vbscript.js":[130,111],"./velocity/velocity":[131,112],"./velocity/velocity.js":[131,112],"./verilog/verilog":[132,113],"./verilog/verilog.js":[132,113],"./vhdl/vhdl":[133,114],"./vhdl/vhdl.js":[133,114],"./vue/vue":[134,0,1,5,3,6],"./vue/vue.js":[134,0,1,5,3,6],"./webidl/webidl":[135,115],"./webidl/webidl.js":[135,115],"./xml/xml":[19,116],"./xml/xml.js":[19,116],"./xquery/xquery":[136,117],"./xquery/xquery.js":[136,117],"./yacas/yacas":[137,118],"./yacas/yacas.js":[137,118],"./yaml-frontmatter/yaml-frontmatter":[138,25],"./yaml-frontmatter/yaml-frontmatter.js":[138,25],"./yaml/yaml":[32,119],"./yaml/yaml.js":[32,119],"./z80/z80":[139,120],"./z80/z80.js":[139,120]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=162,e.exports=r},163:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(14),i=n.n(s);n(145),n(146),n(147);function c(e){return r.a.createElement("aside",{className:"unk-cb-sidebar"},e.children)}var o=n(15),l=n(1),u=n.n(l),h=n(4),p=n(2),d=n(3),m=n(7),f=n(6),g=n(8),y=n(16),C=n(9);function v(e){return["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUpdate","shouldComponentUpdate","componentWillUnmount"].indexOf(e)<0}var j=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).__originalSetState=n.setState,n.setState=n.__setState.bind(Object(C.a)(n)),n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"autoBind",value:function(e){var t=this;Object.getOwnPropertyNames(e||this.constructor.prototype).filter((function(e){return"function"===typeof t[e]})).filter(v).forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"UNSAFE_componentWillMount",value:function(){this.__mounted=!0}},{key:"componentWillUnmount",value:function(){this.__mounted=!1}},{key:"__setState",value:function(){this.__mounted&&this.__originalSetState.apply(this,arguments)}}]),t}(a.Component);j.NOOP=function(){};n(150);function k(e){var t=e.playState;return r.a.createElement("button",{disabled:e.disabled,tabIndex:0,className:"code-playa-control-bar__button",onClick:function(){var n="paused"===t?"playing":"paused";e.onClick&&e.onClick(n)}},r.a.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 36 36"},r.a.createElement("path",{d:"playing"===t?"M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26":"M11,10 L18,13.74 18,22.28 11,26 M18,13.74 L26,18 26,18 18,22.28"})))}var b=n(5);function x(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)(e.progress),o=Object(b.a)(c,2),l=o[0],u=o[1],h=Object(a.useState)(null),p=Object(b.a)(h,2),d=p[0],m=p[1];return Object(a.useEffect)((function(){u(e.progress)}),[e.progress]),Object(a.useEffect)((function(){function t(t){s&&u(Math.min(Math.max(e.restrictX?.01:(t.clientX-d.x)/d.width,.01),1))}function n(t){s&&(i(!1),e.onFinish&&e.onFinish(l))}return s?(document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)):(document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}),[s,e,d,l]),r.a.createElement("span",{className:"unk-code-playa-progress-bar__handle",onMouseDown:function(e){i(!0);var t=e.target.parentNode.getBoundingClientRect();null===d&&m({width:t.width,height:t.height,x:e.clientX})},style:{left:100*Math.max(l,.005)+"%"}})}x.defaultProps={progress:0};n(151);function _(e){var t=Object(a.useState)(e.progress),n=Object(b.a)(t,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){i(e.progress)}),[e.progress]),r.a.createElement("div",{className:"unk-code-playa-progress-bar",onClick:function(t){var n=t.target.closest(".unk-code-playa-progress-bar").getBoundingClientRect(),a=(t.clientX-n.left)/n.width;e.setProgress(a)}},r.a.createElement("span",{className:"unk-code-playa-progress-bar__progress-handle",style:{width:100*s+"%"}}),r.a.createElement(x,{progress:s,onFinish:i}))}function w(e){return r.a.createElement("svg",{className:"unk-code-playa-options-menu__gear-icon",width:"24",height:"24",viewBox:"0 0 24 24",onClick:e.onClick},r.a.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"}))}function O(e){var t=Object(a.useState)(e.menu),n=Object(b.a)(t,2),s=n[0],i=n[1];function c(t){t.items?(t.parent=s,i(t)):e.onSet(t)}var o=e.selectedOptions;return r.a.createElement("ul",{className:"unk-code-playa-options-popup"},s&&s.parent&&r.a.createElement("li",{className:"unk-code-playa-options-popup__item",onClick:function(){i(s.parent)}},r.a.createElement("span",{className:"unk-code-playa-options-popup__item-icon"},"<"),s.component),s&&s.parent&&r.a.createElement("hr",null),(s.items||[]).map((function(e,t){var n=["unk-code-playa-options-popup__item"];return e.key&&o[e.key]===e.value&&n.push("unk-code-playa-options-popup__item--selected"),r.a.createElement("li",{key:t,className:n.join(" "),onClick:c.bind(null,e)},e.component,e&&e.items&&e.items.length&&r.a.createElement("span",{className:"unk-code-playa-options-popup__item-next-icon"},">"))})))}_.defaultProps={progress:0};n(152);var E={items:[{component:r.a.createElement("span",null,"Language"),items:[{name:"Golang",type:"text/x-go",dir:"go/go"},{name:"HTML",type:"text/html",dir:"htmlmixed/htmlmixed"},{name:"Python",type:"python",dir:"python/python"},{name:"Javascript",children:[{name:"Javascript",type:"text/javascript",dir:"javascript/javascript"},{name:"JSX",type:"text/jsx",dir:"jsx/jsx"},{name:"JSON",type:"application/json",dir:"javascript/javascript"}]}].map((function(e){return function e(t){if(t)return t.children&&Array.isArray(t.children)?{component:r.a.createElement("span",null,t.name),items:t.children.map((function(t){return e(t)}))}:{component:r.a.createElement("span",null,t.name),key:"mode",directory:t.dir,value:t.type}}(e)}))},{component:r.a.createElement("span",null,"Speed"),items:[.25,.5,.75,1,1.25,1.5,2].map((function(e){return{component:"".concat(e,"x"),key:"speed",value:e}}))}]};function S(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),s=n[0],i=n[1],c=e.options,o=e.setOption;return r.a.createElement("div",{className:"unk-code-playa-options-menu"},r.a.createElement(w,{onClick:function(){return i(!s)}}),s&&r.a.createElement(O,{menu:E,selectedOptions:c,onSet:function(){i(!1),o.apply(void 0,arguments)}}))}function P(e){return r.a.createElement("svg",{className:"unk-code-playa-options-menu__download-icon",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick,width:"24",height:"24",viewBox:"0 0 24 24",fill:"#f3f3f3"},r.a.createElement("title",null,"download"),r.a.createElement("path",{d:"M17 12v5H3v-5H1v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5z"}),r.a.createElement("path",{d:"M10 15l5-6h-4V1H9v8H5l5 6z"}))}n(153);function L(e){var t=e.recordState,n=e.toggleRecordState;return r.a.createElement("button",{tabIndex:0,className:"code-playa-control-bar__button",onClick:n},r.a.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 36 36"},"recording"===t?r.a.createElement("rect",{x:"12",y:"12",width:"12",height:"12",fill:"red"},r.a.createElement("title",null,"Stop Recording")):r.a.createElement("circle",{cx:"18px",cy:"18px",r:"5px",fill:"#ffda00"},r.a.createElement("title",null,"Record"))))}n(154);var N=!1;N=window.top!=window.self;var M=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"unk-code-playa-control-bar"},r.a.createElement(_,{progress:this.props.progress,setProgress:this.props.setProgress}),r.a.createElement("div",{className:"unk-code-playa-control-bar__row"},r.a.createElement("div",{className:"unk-code-playa-control-bar__cell unk-code-playa-control-bar__cell--left"},r.a.createElement(k,{playState:this.props.playState,onClick:this.props.onPlayChange,disabled:"recording"===this.props.recordState}),r.a.createElement(L,{toggleRecordState:this.props.toggleRecordState,recordState:this.props.recordState})),r.a.createElement("div",{className:"unk-code-playa-control-bar__cell unk-code-playa-control-bar__cell--right"},r.a.createElement("a",{className:"unk-code-playa__about",href:"https://unklearn.github.io/code-playa/"},"About"),!N&&r.a.createElement(P,{onClick:this.props.download}),r.a.createElement(S,{options:this.props.options,setOption:this.props.setOption}))))}}]),t}(j),R=n(10);function A(e){return new Promise((function(t){return setTimeout(t,e)}))}function V(e,t){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.length)){e.next=7;break}return e.next=4,n(t[a],a,t);case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e,t){switch(e.change.origin){case"+input":return function(e,t){e.change.duration;var n=e.time,a=e.change.text.join("\n"),r=100/t,s=Math.round(a.length/2),i=[];if(1===a.length&&0===a.replace("\n","").length)return[{time:n,change:{origin:"+input",text:["",""],from:e.change.from,to:e.change.to}}];for(var c=0;c<a.length;c++)i.push({time:n+c*r*(1-.25*(s-c)/a.length),change:{origin:"+input",text:[a[c]],from:{line:e.change.from.line,ch:e.change.from.ch+c},to:{line:e.change.to.line,ch:e.change.from.ch+c+1}}});return i}(e,t)}return delete e.change.duration,[e]}var W=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(p.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this)))._editor=e,n._options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(R.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.defaultOptions,{},a),n._isPlaying=!1,n._cs=[],n._snapshots=[],n._initialValue="",n._lastFrame=null,n._animId=null,n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"play",value:function(){return this._isPlaying=!0,null===this._lastFrame&&this._cs.length&&(this._lastFrame=this._cs[0].time),this.resume(this._lastFrame),this.emit("playing",this._lastFrame),this._lastFrame}},{key:"pause",value:function(){this._isPlaying=!1,this._cancelChangeSetApplications(),this.emit("paused",this._lastFrame)}},{key:"reset",value:function(e){var t=this;this.pause();for(var n=0,a=0;a<this._cs.length;a++){var r=this._cs[a].time,s=(this._cs[a].change.duration||0)+r+1;if(r>=e&&e<s){n=a;break}}for(var i=this._calculateProgress(this._cs[n].time),c=Math.floor(10*i),o=this._snapshots[c];!o&&c>0;)o=this._snapshots[c],c--;return o?(this._editor.setValue(o.v),this._cs.slice(o.i+1,n).forEach((function(e){t._editor.applyChange(e)}))):(this._editor.setValue(this._initialValue),this._cs.slice(0,n).forEach((function(e){t._editor.applyChange(e)}))),this._lastFrame=this._cs[n].time,n}},{key:"resume",value:function(e){var t=this.reset(e||this._lastFrame);this._isPlaying=!0,this.emit("playing",e),this._applyBatchedChangesWithRAF(this._cs.slice(t,this._cs.length))}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._initialValue=e,this._snapshots=[],this._cs=t}},{key:"setSpeed",value:function(e){this._isPlaying&&this.pause(),this._options.speed=e}},{key:"_cancelChangeSetApplications",value:function(){null!==this._animId&&cancelAnimationFrame(this._animId)}},{key:"_applyBatchedChangesWithRAF",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var n,a,r,s,i,c=this,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.length>1&&void 0!==o[1])||o[1],n=this._options,a=n.batchSize,r=n.maxFrameDelay,s=n.speed,this._isPlaying){e.next=4;break}return e.abrupt("return");case 4:return i=t.slice(0,a),e.next=7,V(i,function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,o,l,h,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c._isPlaying){e.next=2;break}return e.abrupt("return");case 2:if(a=t.change,o=!!a.text&&a.text.indexOf(" ")>-1,void 0===a.duration){e.next=11;break}return l=F(t,s),e.next=8,c._applyBatchedChangesWithRAF(l);case 8:return e.abrupt("return",e.sent);case 11:c._editor.applyChange(t);case 12:return h=i[n+1]?o?0:Math.min(i[n+1].time-i[n].time-(a.duration||0),r)/s:0,p=c._calculateProgress(),Math.floor(10*p),c._snapshots.length,c._emitProgress(p,h),e.next=18,A(h);case 18:c._lastFrame=i[n].time;case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:if(!((t=t.slice(a,t.length)).length>0)){e.next=13;break}return e.next=11,this._applyBatchedChangesWithRAF(t);case 11:e.next=15;break;case 13:this._emitProgress(1,0),this.emit("done");case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_calculateProgress",value:function(e){var t=e||this._lastFrame,n=this._cs[this._cs.length-1],a=n.time+(n.change.duration||0),r=this._cs[0].time;return(t-r)/(a-r)}},{key:"_emitProgress",value:function(e,t){this._isPlaying&&this._cs.length&&this.emit("progress",e,t)}}]),t}(n(17).EventEmitter);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(R.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}W.defaultOptions={maxFrameDelay:300,batchSize:20,speed:1};var B=u.a.mark(H),I=u.a.mark(X),T=u.a.mark(G);function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(t){case 0:return e;case 1:case 2:case 3:return e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length<2)return e;var n=[],a=!0,r=!1,s=void 0;try{for(var i,c=H(e,t)[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var o=i.value,l=!0,u=!1,h=void 0;try{for(var p,d=X(o)[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;if(m.length<2)n=n.concat(m);else{var f=!0,g=!1,y=void 0;try{for(var C,v=G(m)[Symbol.iterator]();!(f=(C=v.next()).done);f=!0){var j=C.value,k=j[0].change.origin;"+input"===k?n.push($(j)):"+delete"===k?n.push(K(j)):"+select"===k&&n.push(Q(j))}}catch(b){g=!0,y=b}finally{try{f||null==v.return||v.return()}finally{if(g)throw y}}}}}catch(b){u=!0,h=b}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}}}catch(b){r=!0,s=b}finally{try{a||null==c.return||c.return()}finally{if(r)throw s}}return n}(e=2===t?function e(t){for(var n,a=[],r=t.length,s=1;s<r;s++)if("+delete"===t[s].change.origin&&"+input"===t[s-1].change.origin){n=s;break}if(void 0!==n){for(var i=n-1,c=n,o=t[c].change,l=t[i].change;i>=0&&c<r&&o.from.line===l.from.line&&o.from.ch===l.from.ch&&o.to.ch-1===l.to.ch;)a=a.concat([i,c]),i-=1,o=t[c-=1]&&t[c].change,l=t[i]&&t[i].change;t=t.filter((function(e,t){return-1===a.indexOf(t)})),a.length>1&&(t=e(t))}return t}(e):e,t>1),e=3===t?e.filter((function(e){return e.change&&"+select"!==e.change.origin})):e;default:return e}}function J(e,t,n){for(var a=n.length,r=0;r<a;r++){var s=n[r];if(void 0===e||void 0===t||!e.hasOwnProperty(s)||!t.hasOwnProperty(s))return!1;e=e[s],t=t[s]}return e===t}function H(e,t){var n,a,r;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=1,a=e.length,r=[e[0]];case 3:if(!(n<a)){s.next=24;break}if(!J(e[n],e[n-1],["change","origin"])){s.next=18;break}if(!t){s.next=9;break}r.push(e[n]),s.next=16;break;case 9:if(/\s|\t|\n/gi.test(e[n].change.text.join(""))){s.next=13;break}r.push(e[n]),s.next=16;break;case 13:return s.next=15,r;case 15:r=[e[n]];case 16:s.next=21;break;case 18:return s.next=20,r;case 20:r=[e[n]];case 21:n++,s.next=3;break;case 24:return s.next=26,r;case 26:case"end":return s.stop()}}),B)}function X(e){var t,n,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=1,!((n=e.length)<2)){r.next=6;break}return r.next=5,e;case 5:return r.abrupt("return");case 6:a=[e[0]];case 7:if(!(t<n)){r.next=22;break}if(!J(e[t-1],e[t],["change","from","line"])){r.next=12;break}a.push(e[t]),r.next=19;break;case 12:if(!J(e[t-1],e[t],["change","range","head","line"])&&!J(e[t-1],e[t],["change","range","anchor","line"])){r.next=16;break}a.push(e[t]),r.next=19;break;case 16:return r.next=18,a;case 18:a=[e[t]];case 19:t++,r.next=7;break;case 22:return r.next=24,a;case 24:case"end":return r.stop()}}),I)}function G(e){var t,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.length<2)){a.next=4;break}return a.next=3,e;case 3:return a.abrupt("return");case 4:t=[e[0]],n=1;case 6:if(!(n<e.length)){a.next=25;break}if("+input"!==e[n].change.origin||1!==Math.abs(e[n].change.from.ch-e[n-1].change.to.ch)){a.next=11;break}t.push(e[n]),a.next=22;break;case 11:if("+delete"!==e[n].change.origin||1!==Math.abs(e[n].change.from.ch-e[n-1].change.from.ch)){a.next=15;break}t.push(e[n]),a.next=22;break;case 15:if(!("+select"===e[n].change.origin&&(r=e[n-1],s=e[n],J(r,s,["change","range","head","line"])&&J(r,s,["change","range","head","ch"])||J(r,s,["change","range","anchor","line"])&&J(r,s,["change","range","anchor","ch"])))){a.next=19;break}t.push(e[n]),a.next=22;break;case 19:return a.next=21,t;case 21:t=[e[n]];case 22:n++,a.next=6;break;case 25:return a.next=27,t;case 27:case"end":return a.stop()}var r,s}),T)}function $(e){var t=e.length-1;return Z({},e[0],{change:{origin:"+input",duration:e[t].time-e[0].time,text:[e.map((function(e){return e.change.text.join("\n")})).join("")],from:{line:e[0].change.from.line,ch:e[0].change.from.ch},to:{line:e[t].change.from.line,ch:e[t].change.to.ch}}})}function K(e){var t=e.length-1;return Z({},e[0],{change:{origin:"+delete",to:{line:e[0].change.to.line,ch:e[0].change.to.ch,sticky:e[0].change.to.sticky},from:{line:e[t].change.from.line,ch:e[t].change.from.ch,sticky:e[t].change.from.sticky}}})}function Q(e){var t=e.length-1;return Z({},e[0],{change:{origin:"+select",range:{head:{line:e[t].change.range.head.line,ch:e[t].change.range.head.ch},anchor:{line:e[0].change.range.anchor.line,ch:e[0].change.range.anchor.ch}}}})}var Y=function(){function e(t,n){Object(p.a)(this,e),this._cm=t,this._addChangeCb=n,this._addListeners(),this._frozen=!1,window.doc=t}return Object(d.a)(e,[{key:"setValue",value:function(e){this._cm.setValue(e)}},{key:"getValue",value:function(){return this._cm.getValue()}},{key:"applyChange",value:function(e){var t=this._cm,n=e.change;switch(n.origin){case"+input":this._insertTextAtCursor(t,n,n.text.join("\n"));break;case"paste":this._insertTextAtCursor(t,{from:n.from},n.text.join("\n"));break;case"+delete":this._deleteCharacters(t,n);break;case"+select":this._selectText(t,n);break;case"+setValue":break;default:console.warn("unhandled",e)}}},{key:"freeze",value:function(){this._frozen=!0,this._cm.setOption("readOnly",!0)}},{key:"unfreeze",value:function(){this._frozen=!1,this._cm.setOption("readOnly",!1)}},{key:"_addListeners",value:function(){var e=this,t=this._cm;t.on("beforeSelectionChange",(function(t,n){if(!e._frozen){var a=n.ranges[0];a&&a.anchor&&a.head&&(a.anchor.line===a.head.line&&a.anchor.ch===a.head.ch||e._addChangeCb({origin:"+select",range:a}))}})),t.on("changes",(function(t,n){e._frozen||n.forEach((function(t){e._addChangeCb(t)}))}))}},{key:"_insertTextAtCursor",value:function(e,t,n){var a=this._cm.getDoc();this._cm.scrollIntoView(t.from),a.replaceRange(n,t.from,t.to)}},{key:"_deleteCharacters",value:function(e,t){this._cm.getDoc().replaceRange("",t.from,t.to)}},{key:"_selectText",value:function(e,t){this._cm.getDoc().setSelection(t.range.anchor,t.range.head)}}]),e}();function ee(e){var t=e.index,n=e.recording,a=e.handleRecordingAction;return r.a.createElement("li",{className:"unk-code-playa-recording"},r.a.createElement("span",{className:"unk-code-playa-recording__label"},"Recording "+(t+1)),r.a.createElement("span",{className:"unk-code-playa-recording__action",onClick:function(){return a(n,"run",t)}},"r"),r.a.createElement("span",{className:"unk-code-playa-recording__action",onClick:function(){return a(n,"compress",t)}},"c"),r.a.createElement("span",{className:"unk-code-playa-recording__action",onClick:function(){return a(n,"delete",t)}},"d"))}n(159);function te(e){var t=e.recordings,n=e.handleRecordingAction;return r.a.createElement("ul",{className:"unk-code-playa-recordings-list"},t.map((function(e,t){return r.a.createElement(ee,{recording:e,index:t,key:t,handleRecordingAction:n})})))}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var re=r.a.createElement("rect",{x:129.645,y:67.419,width:167.729,height:119.817,rx:16.709,ry:16.709}),se=function(e){var t=e.svgRef,n=e.title,a=ae(e,["svgRef","title"]);return r.a.createElement("svg",ne({viewBox:"129.645 67.419 167.729 159.659",ref:t},a),n?r.a.createElement("title",null,n):null,re,r.a.createElement("rect",{x:131.418,y:82.386,width:165.105,height:8.03,style:{fill:"rgb(255, 255, 255)",strokeWidth:.304}}),r.a.createElement("line",{style:{strokeWidth:5,strokeDasharray:"5px, 10px",stroke:"rgb(255, 255, 255)"},x1:138.138,y1:175.594,x2:138.138,y2:94.566}),r.a.createElement("line",{style:{strokeWidth:5,strokeDasharray:"5px, 10px",stroke:"rgb(255, 255, 255)"},x1:290.532,y1:175.247,x2:290.532,y2:94.219}),r.a.createElement("rect",{x:209.855,y:-135.209,width:18.644,height:10.395,style:{strokeWidth:.646,fill:"rgb(110, 105, 105)"},transform:"matrix(1, 0, 0, -1, 0, 0)"}),r.a.createElement("rect",{x:209.65,y:-122.495,width:25.983,height:1.854,style:{strokeWidth:.209,fill:"rgb(110, 105, 105)"},transform:"matrix(1, 0, 0, -1, 0, 0)"}),r.a.createElement("path",{d:"M 329.416 603.419 L 363.957 669.843 L 294.874 669.843 L 329.416 603.419 Z",style:{strokeWidth:1.945,fill:"rgb(255, 255, 255)"},transform:"matrix(0, 1, -1, 0, 864.648193, -196.338776)"}),r.a.createElement("polyline",{style:{strokeWidth:1.648,fill:"rgb(66, 66, 66)"},points:"194.464 167.985 230.058 116.255 240.71 121.848 194.68 168.219"}),r.a.createElement("path",{d:"M 156.906 216.111 L 159.176 218.111 C 158.429 218.838 157.583 219.384 156.636 219.751 C 155.689 220.118 154.666 220.301 153.566 220.301 C 152.366 220.301 151.259 220.081 150.246 219.641 C 149.233 219.201 148.349 218.554 147.596 217.701 C 146.843 216.841 146.249 215.764 145.816 214.471 C 145.389 213.178 145.176 211.684 145.176 209.991 C 145.176 208.298 145.389 206.808 145.816 205.521 C 146.249 204.234 146.843 203.161 147.596 202.301 C 148.349 201.448 149.239 200.798 150.266 200.351 C 151.286 199.904 152.386 199.681 153.566 199.681 C 154.666 199.681 155.689 199.864 156.636 200.231 C 157.583 200.591 158.429 201.138 159.176 201.871 L 156.906 203.891 C 156.453 203.364 155.946 202.981 155.386 202.741 C 154.833 202.508 154.256 202.391 153.656 202.391 C 152.983 202.391 152.339 202.518 151.726 202.771 C 151.113 203.024 150.566 203.458 150.086 204.071 C 149.599 204.678 149.219 205.464 148.946 206.431 C 148.673 207.398 148.529 208.584 148.516 209.991 C 148.529 211.358 148.669 212.524 148.936 213.491 C 149.203 214.458 149.566 215.244 150.026 215.851 C 150.493 216.464 151.023 216.911 151.616 217.191 C 152.209 217.478 152.833 217.621 153.486 217.621 C 154.146 217.621 154.763 217.501 155.336 217.261 C 155.909 217.028 156.433 216.644 156.906 216.111 ZM 170.572 204.661 C 171.632 204.661 172.592 204.864 173.452 205.271 C 174.305 205.684 175.032 206.244 175.632 206.951 C 176.238 207.664 176.705 208.494 177.032 209.441 C 177.358 210.388 177.522 211.408 177.522 212.501 C 177.522 213.594 177.348 214.621 177.002 215.581 C 176.655 216.541 176.168 217.371 175.542 218.071 C 174.908 218.771 174.162 219.318 173.302 219.711 C 172.435 220.104 171.472 220.301 170.412 220.301 C 169.338 220.301 168.358 220.101 167.472 219.701 C 166.592 219.294 165.845 218.738 165.232 218.031 C 164.618 217.318 164.148 216.488 163.822 215.541 C 163.495 214.594 163.332 213.564 163.332 212.451 C 163.332 211.338 163.508 210.298 163.862 209.331 C 164.222 208.364 164.715 207.541 165.342 206.861 C 165.968 206.174 166.728 205.634 167.622 205.241 C 168.515 204.854 169.498 204.661 170.572 204.661 Z M 170.362 217.701 C 170.908 217.701 171.405 217.568 171.852 217.301 C 172.298 217.041 172.678 216.678 172.992 216.211 C 173.312 215.744 173.568 215.191 173.762 214.551 C 173.955 213.918 174.052 213.234 174.052 212.501 C 174.052 211.774 173.965 211.091 173.792 210.451 C 173.618 209.818 173.382 209.258 173.082 208.771 C 172.782 208.291 172.412 207.904 171.972 207.611 C 171.532 207.318 171.038 207.171 170.492 207.171 C 169.945 207.171 169.445 207.308 168.992 207.581 C 168.538 207.854 168.152 208.224 167.832 208.691 C 167.512 209.158 167.265 209.704 167.092 210.331 C 166.918 210.958 166.832 211.638 166.832 212.371 C 166.832 213.098 166.908 213.784 167.062 214.431 C 167.215 215.078 167.448 215.638 167.762 216.111 C 168.068 216.584 168.438 216.968 168.872 217.261 C 169.298 217.554 169.795 217.701 170.362 217.701 ZM 182.851 218.601 C 182.158 217.821 181.648 216.854 181.321 215.701 C 180.994 214.554 180.831 213.398 180.831 212.231 C 180.831 210.811 181.028 209.618 181.421 208.651 C 181.808 207.684 182.311 206.901 182.931 206.301 C 183.551 205.694 184.241 205.261 185.001 205.001 C 185.754 204.734 186.498 204.601 187.231 204.601 C 188.124 204.601 188.938 204.758 189.671 205.071 C 190.411 205.378 190.964 205.788 191.331 206.301 L 191.331 198.911 L 194.661 198.911 L 194.661 220.161 L 191.521 220.161 C 191.481 219.854 191.448 219.541 191.421 219.221 C 191.394 218.901 191.364 218.604 191.331 218.331 C 191.278 218.564 191.118 218.801 190.851 219.041 C 190.584 219.274 190.248 219.488 189.841 219.681 C 189.428 219.874 188.968 220.024 188.461 220.131 C 187.948 220.244 187.418 220.301 186.871 220.301 C 186.144 220.301 185.428 220.171 184.721 219.911 C 184.021 219.658 183.398 219.221 182.851 218.601 Z M 184.331 212.481 C 184.331 213.208 184.421 213.884 184.601 214.511 C 184.781 215.144 185.028 215.698 185.341 216.171 C 185.648 216.644 186.024 217.018 186.471 217.291 C 186.918 217.564 187.408 217.701 187.941 217.701 C 188.501 217.701 189.004 217.561 189.451 217.281 C 189.898 216.994 190.278 216.614 190.591 216.141 C 190.898 215.668 191.134 215.111 191.301 214.471 C 191.468 213.838 191.551 213.154 191.551 212.421 C 191.551 211.694 191.464 211.011 191.291 210.371 C 191.118 209.731 190.871 209.174 190.551 208.701 C 190.231 208.228 189.848 207.851 189.401 207.571 C 188.954 207.284 188.448 207.141 187.881 207.141 C 187.314 207.141 186.814 207.284 186.381 207.571 C 185.941 207.851 185.571 208.238 185.271 208.731 C 184.971 209.224 184.738 209.791 184.571 210.431 C 184.411 211.064 184.331 211.748 184.331 212.481 ZM 205.786 204.571 C 207.026 204.571 208.123 204.824 209.076 205.331 C 210.023 205.831 210.8 206.494 211.406 207.321 C 212.02 208.154 212.46 209.111 212.726 210.191 C 212.986 211.278 213.036 212.404 212.876 213.571 L 202.156 213.571 C 202.156 214.158 202.266 214.694 202.486 215.181 C 202.7 215.674 202.993 216.098 203.366 216.451 C 203.746 216.811 204.193 217.091 204.706 217.291 C 205.226 217.491 205.79 217.591 206.396 217.591 C 206.596 217.591 206.846 217.568 207.146 217.521 C 207.446 217.474 207.766 217.394 208.106 217.281 C 208.44 217.161 208.776 217.008 209.116 216.821 C 209.45 216.641 209.746 216.424 210.006 216.171 L 211.206 218.001 C 210.606 218.748 209.903 219.314 209.096 219.701 C 208.296 220.081 207.276 220.271 206.036 220.271 C 205.036 220.271 204.096 220.064 203.216 219.651 C 202.343 219.244 201.596 218.684 200.976 217.971 C 200.356 217.264 199.866 216.434 199.506 215.481 C 199.14 214.534 198.956 213.514 198.956 212.421 C 198.956 211.348 199.14 210.331 199.506 209.371 C 199.866 208.418 200.353 207.584 200.966 206.871 C 201.573 206.158 202.296 205.598 203.136 205.191 C 203.976 204.778 204.86 204.571 205.786 204.571 Z M 202.266 211.161 L 209.806 211.161 C 209.806 210.674 209.716 210.191 209.536 209.711 C 209.356 209.238 209.106 208.811 208.786 208.431 C 208.466 208.051 208.08 207.744 207.626 207.511 C 207.166 207.284 206.673 207.161 206.146 207.141 C 205.58 207.141 205.06 207.251 204.586 207.471 C 204.113 207.691 203.703 207.984 203.356 208.351 C 203.01 208.711 202.74 209.144 202.546 209.651 C 202.36 210.151 202.266 210.654 202.266 211.161 ZM 220.91 212.891 L 220.91 220.161 L 217.63 220.161 L 217.63 200.011 L 223.43 200.011 C 224.284 200.011 225.13 200.148 225.97 200.421 C 226.81 200.694 227.56 201.104 228.22 201.651 C 228.887 202.198 229.427 202.858 229.84 203.631 C 230.247 204.404 230.45 205.274 230.45 206.241 C 230.45 207.261 230.277 208.188 229.93 209.021 C 229.584 209.848 229.1 210.544 228.48 211.111 C 227.86 211.678 227.114 212.114 226.24 212.421 C 225.367 212.734 224.4 212.891 223.34 212.891 L 220.91 212.891 Z M 223.37 202.501 L 220.91 202.501 L 220.91 210.481 L 223.92 210.481 C 224.32 210.481 224.717 210.414 225.11 210.281 C 225.497 210.141 225.857 209.918 226.19 209.611 C 226.517 209.298 226.78 208.864 226.98 208.311 C 227.18 207.751 227.28 207.061 227.28 206.241 C 227.28 205.914 227.234 205.538 227.14 205.111 C 227.054 204.678 226.867 204.268 226.58 203.881 C 226.3 203.488 225.904 203.158 225.39 202.891 C 224.884 202.631 224.21 202.501 223.37 202.501 ZM 237.311 198.911 L 237.311 215.461 C 237.311 216.081 237.395 216.568 237.561 216.921 C 237.728 217.274 237.955 217.538 238.241 217.711 C 238.535 217.884 238.868 217.998 239.241 218.051 C 239.615 218.111 240.021 218.141 240.461 218.141 L 240.461 220.161 C 240.221 220.194 239.975 220.221 239.721 220.241 C 239.521 220.261 239.285 220.274 239.011 220.281 C 238.738 220.294 238.465 220.301 238.191 220.301 C 237.918 220.301 237.645 220.291 237.371 220.271 C 237.098 220.251 236.851 220.224 236.631 220.191 C 236.011 220.064 235.528 219.791 235.181 219.371 C 234.835 218.951 234.571 218.481 234.391 217.961 C 234.205 217.441 234.091 216.934 234.051 216.441 C 234.005 215.948 233.981 215.564 233.981 215.291 L 233.981 214.961 L 233.981 198.911 L 237.311 198.911 ZM 255.146 211.821 L 255.146 215.371 L 255.146 215.591 C 255.146 215.738 255.153 215.954 255.166 216.241 C 255.186 216.521 255.223 216.808 255.276 217.101 C 255.329 217.388 255.416 217.651 255.536 217.891 C 255.656 218.131 255.816 218.288 256.016 218.361 L 255.146 220.191 C 254.906 220.191 254.653 220.134 254.386 220.021 C 254.126 219.914 253.873 219.761 253.626 219.561 C 253.379 219.361 253.169 219.138 252.996 218.891 C 252.823 218.644 252.689 218.374 252.596 218.081 C 252.469 218.394 252.246 218.681 251.926 218.941 C 251.606 219.208 251.246 219.444 250.846 219.651 C 250.446 219.864 250.013 220.024 249.546 220.131 C 249.086 220.244 248.653 220.301 248.246 220.301 C 247.626 220.301 247.029 220.218 246.456 220.051 C 245.883 219.884 245.379 219.621 244.946 219.261 C 244.506 218.894 244.163 218.411 243.916 217.811 C 243.669 217.211 243.546 216.471 243.546 215.591 C 243.546 214.758 243.723 214.034 244.076 213.421 C 244.436 212.808 244.893 212.308 245.446 211.921 C 246.006 211.528 246.639 211.234 247.346 211.041 C 248.059 210.848 248.779 210.751 249.506 210.751 L 251.836 210.751 C 251.836 209.858 251.789 209.148 251.696 208.621 C 251.603 208.094 251.449 207.708 251.236 207.461 C 251.016 207.214 250.746 207.058 250.426 206.991 C 250.106 206.931 249.726 206.901 249.286 206.901 C 248.886 206.901 248.509 206.951 248.156 207.051 C 247.803 207.151 247.473 207.268 247.166 207.401 C 246.866 207.541 246.603 207.694 246.376 207.861 C 246.149 208.021 245.983 208.148 245.876 208.241 L 244.646 206.351 C 244.826 206.151 245.099 205.948 245.466 205.741 C 245.826 205.528 246.243 205.341 246.716 205.181 C 247.189 205.014 247.706 204.881 248.266 204.781 C 248.819 204.681 249.396 204.631 249.996 204.631 C 250.543 204.631 251.076 204.684 251.596 204.791 C 252.116 204.904 252.593 205.088 253.026 205.341 C 253.453 205.594 253.826 205.938 254.146 206.371 C 254.466 206.798 254.689 207.328 254.816 207.961 C 254.943 208.601 255.029 209.244 255.076 209.891 C 255.123 210.538 255.146 211.181 255.146 211.821 Z M 251.856 216.471 L 251.856 212.701 L 250.106 212.701 C 249.746 212.701 249.366 212.734 248.966 212.801 C 248.559 212.874 248.183 213.011 247.836 213.211 C 247.489 213.418 247.203 213.708 246.976 214.081 C 246.749 214.454 246.636 214.931 246.636 215.511 C 246.636 216.424 246.843 217.081 247.256 217.481 C 247.663 217.881 248.259 218.081 249.046 218.081 C 249.593 218.081 250.116 217.934 250.616 217.641 C 251.116 217.354 251.529 216.964 251.856 216.471 ZM 271.9 204.741 L 275.24 204.741 C 274.234 207.421 273.34 209.794 272.56 211.861 C 271.774 213.928 271.09 215.741 270.51 217.301 C 269.924 218.861 269.407 220.178 268.96 221.251 C 268.514 222.331 268.104 223.231 267.73 223.951 C 267.357 224.671 267.007 225.234 266.68 225.641 C 266.354 226.054 266.017 226.371 265.67 226.591 C 265.324 226.804 264.944 226.934 264.53 226.981 C 264.124 227.028 263.654 227.051 263.12 227.051 C 262.96 227.051 262.77 227.028 262.55 226.981 C 262.33 226.934 262.117 226.881 261.91 226.821 C 261.697 226.754 261.51 226.691 261.35 226.631 C 261.184 226.564 261.074 226.521 261.02 226.501 C 261.094 226.174 261.167 225.864 261.24 225.571 C 261.294 225.318 261.35 225.078 261.41 224.851 C 261.477 224.624 261.527 224.464 261.56 224.371 C 261.707 224.371 261.93 224.418 262.23 224.511 C 262.537 224.598 262.76 224.641 262.9 224.641 C 263.194 224.641 263.454 224.628 263.68 224.601 C 263.914 224.574 264.12 224.494 264.3 224.361 C 264.48 224.221 264.654 224.021 264.82 223.761 C 264.98 223.494 265.164 223.114 265.37 222.621 L 266.4 220.161 L 260.09 204.741 L 263.4 204.741 L 267.91 216.611 L 271.9 204.741 ZM 289.923 211.821 L 289.923 215.371 L 289.923 215.591 C 289.923 215.738 289.93 215.954 289.943 216.241 C 289.963 216.521 290 216.808 290.053 217.101 C 290.106 217.388 290.193 217.651 290.313 217.891 C 290.433 218.131 290.593 218.288 290.793 218.361 L 289.923 220.191 C 289.683 220.191 289.43 220.134 289.163 220.021 C 288.903 219.914 288.65 219.761 288.403 219.561 C 288.156 219.361 287.946 219.138 287.773 218.891 C 287.6 218.644 287.466 218.374 287.373 218.081 C 287.246 218.394 287.023 218.681 286.703 218.941 C 286.383 219.208 286.023 219.444 285.623 219.651 C 285.223 219.864 284.79 220.024 284.323 220.131 C 283.863 220.244 283.43 220.301 283.023 220.301 C 282.403 220.301 281.806 220.218 281.233 220.051 C 280.66 219.884 280.156 219.621 279.723 219.261 C 279.283 218.894 278.94 218.411 278.693 217.811 C 278.446 217.211 278.323 216.471 278.323 215.591 C 278.323 214.758 278.5 214.034 278.853 213.421 C 279.213 212.808 279.67 212.308 280.223 211.921 C 280.783 211.528 281.416 211.234 282.123 211.041 C 282.836 210.848 283.556 210.751 284.283 210.751 L 286.613 210.751 C 286.613 209.858 286.566 209.148 286.473 208.621 C 286.38 208.094 286.226 207.708 286.013 207.461 C 285.793 207.214 285.523 207.058 285.203 206.991 C 284.883 206.931 284.503 206.901 284.063 206.901 C 283.663 206.901 283.286 206.951 282.933 207.051 C 282.58 207.151 282.25 207.268 281.943 207.401 C 281.643 207.541 281.38 207.694 281.153 207.861 C 280.926 208.021 280.76 208.148 280.653 208.241 L 279.423 206.351 C 279.603 206.151 279.876 205.948 280.243 205.741 C 280.603 205.528 281.02 205.341 281.493 205.181 C 281.966 205.014 282.483 204.881 283.043 204.781 C 283.596 204.681 284.173 204.631 284.773 204.631 C 285.32 204.631 285.853 204.684 286.373 204.791 C 286.893 204.904 287.37 205.088 287.803 205.341 C 288.23 205.594 288.603 205.938 288.923 206.371 C 289.243 206.798 289.466 207.328 289.593 207.961 C 289.72 208.601 289.806 209.244 289.853 209.891 C 289.9 210.538 289.923 211.181 289.923 211.821 Z M 286.633 216.471 L 286.633 212.701 L 284.883 212.701 C 284.523 212.701 284.143 212.734 283.743 212.801 C 283.336 212.874 282.96 213.011 282.613 213.211 C 282.266 213.418 281.98 213.708 281.753 214.081 C 281.526 214.454 281.413 214.931 281.413 215.511 C 281.413 216.424 281.62 217.081 282.033 217.481 C 282.44 217.881 283.036 218.081 283.823 218.081 C 284.37 218.081 284.893 217.934 285.393 217.641 C 285.893 217.354 286.306 216.964 286.633 216.471 Z",transform:"matrix(1, 0, 0, 1, 0, 0)",style:{fill:"rgb(255, 255, 255)",whiteSpace:"pre"}}))},ie=r.a.forwardRef((function(e,t){return r.a.createElement(se,ne({svgRef:t},e))})),ce=(n.p,function(){function e(){Object(p.a)(this,e)}return Object(d.a)(e,null,[{key:"write",value:function(e,t){var n=t.mode,a=t.directory;return["mode=".concat(a,":").concat(n),"speed=".concat(t.speed),"data=".concat(btoa(JSON.stringify(e)))].join("\n")}},{key:"parse",value:function(e){var t=e.split("\n"),n={},a=[];return t.forEach((function(e){if(e.indexOf("speed")>-1){var t=Number(e.split("=")[1]);n.speed=t}else if(e.indexOf("mode")>-1){var r=e.split("=")[1].split(":");n.mode=r[1],n.directory=r[0]}else if(e.indexOf("data")>-1){var s=e.slice(5);try{a=JSON.parse(atob(s))}catch(i){console.error(i,s)}}})),{options:n,recording:a}}}]),e}()),oe=(n(160),n(161),function(e){function t(e){var n,a;Object(p.a)(this,t);for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return(a=Object(m.a)(this,(n=Object(f.a)(t)).call.apply(n,[this,e].concat(s)))).instance=null,a.state={mode:"text/x-go",theme:"monokai",playState:"paused",progress:0,speed:1,initialized:!1,recordings:[],currentRecordingIndex:0,initialValue:e.initialValue,changeSets:e.changeSets},a.autoBind(),a.setMode("go/go","text/x-go"),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"initEditor",value:function(e){var t=this;this.instance=e;var n=new Y(this.instance,this.addChange);this.setState({editor:n},(function(){t.state.changeSets&&t.state.changeSets.length&&t.handlePlay("playing")}))}},{key:"loadDataIfNecessary",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n,a,r,s,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=/data-uri=([^&]*)/.exec(window.location.search))||!t[1]){e.next=15;break}return this.setState({loading:!0}),n=t[1],e.next=6,fetch(n);case 6:return a=e.sent,e.next=9,a.text();case 9:r=e.sent,s=ce.parse(r),i=s.options,c=s.recording,i.speed&&this.setOption({key:"speed",value:i.speed}),i.mode&&this.setOption({key:"mode",value:i.mode,directory:i.directory}),c&&this.setState({initialValue:"",changeSets:c}),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.state.stream;e&&(e.off("progress"),e.off("playing"),e.off("paused"),Object(o.a)("stream"),e=null)}},{key:"addChange",value:function(e){this.playing||this.state.changeSets.push({change:e,time:Date.now()})}},{key:"getSnapshot",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.theme,n=e.mode,a=e.speed,s=e.initialized,i=e.playState,c=e.progress,o=e.changeSets,l=e.recordState,u=e.recordings,h=e.loading,p=e.initialValue;return r.a.createElement("div",{className:"unk-code-playa"},r.a.createElement("div",{style:{background:"#1d1d1d",height:300,pointerEvents:s?"all":"none"}},s&&r.a.createElement(y.UnControlled,{editorDidMount:this.initEditor,value:p,options:{indentUnit:4,lineNumbers:!0,mode:n,theme:t}})),r.a.createElement(te,{recordings:u,handleRecordingAction:this.handleRecordingAction}),!s&&!h&&r.a.createElement("div",{className:"unk-code-playa__logo",onClick:this.startPlayer},r.a.createElement(ie,null)),h&&r.a.createElement("div",{className:"unk-code-playa__logo",onClick:this.startPlayer},r.a.createElement("div",{className:"unk-code-playa__spinner lds-dual-ring"})),s&&r.a.createElement(M,{options:{mode:n,speed:a},download:this.handleDownload,changeSetCount:o.length,toggleRecordState:this.toggleRecordState,recordState:l,progress:c,playState:i,setProgress:this.setProgress,setOption:this.setOption,onPlayChange:this.handlePlay}),this.state.cpd&&r.a.createElement("pre",{className:"cpd-file"},this.state.cpd))}},{key:"startPlayer",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadDataIfNecessary();case 2:this.setState({initialized:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleRecordState",value:function(){var e=this.state,t=e.recordState,n=e.recordings,a=e.initialValue,r=e.editor,s=e.changeSets,i=e.currentRecordingIndex;"recording"===t?(n.push({initialValue:a,changeSets:s}),i=n.length-1):(a=r.getValue(),s=[]),this.setState({recordState:"recording"===this.state.recordState?"stop":"recording",currentRecordingIndex:i,recordings:n,initialValue:a,changeSets:s})}},{key:"handleRecordingAction",value:function(e,t,n){var a=this,r=e.initialValue,s=e.changeSets;if("run"===t)this.setState({initialValue:r,currentRecordingIndex:n,changeSets:s,stream:null},(function(){a.state.editor.setValue(r),a.handlePlay("playing")}));else if("compress"===t){var i=U(s,2);this.setState({changeSets:i}),this.state.stream&&(this.state.stream.apply(r,i),this.setProgress(0))}}},{key:"handleDownload",value:function(){var e=ce.write(this.state.changeSets,{mode:this.state.mode,speed:this.state.speed,directory:this.state.directory});this.setState({cpd:e})}},{key:"setProgress",value:function(e){var t=this.state,n=t.changeSets,a=t.stream,r=n[n.length-1].time,s=n[0].time;"playing"===this.state.playState?(a.pause(),a.reset((r-s)*e+s)):a.reset((r-s)*e+s),this.setState({progress:e})}},{key:"setOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,n=e.value,a=e.directory;"mode"===t?this.setMode(a,n):"speed"===t&&(this.state.stream&&this.state.stream.setSpeed(n),this.setState({speed:n,playState:"paused"}))}},{key:"setMode",value:function(){var e=Object(h.a)(u.a.mark((function e(t,a){var r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(162)("./".concat(t)).then((function(){r.setState({mode:a,directory:t},(function(){r.instance&&r.instance.setOption("mode",a)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadStream",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n,a,r,s,i,c,o,l,h,p,d=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.isPlaybackMode,a=t.streamSource,r=t.initialValue,s=t.changeSets,i=t.speed,(c=t.editor).freeze(),(o=new W(c,{speed:i})).addListener("progress",(function(e){d.setState({progress:e})})),o.addListener("playing",(function(){d.setState({playState:"playing"})})),o.addListener("paused",(function(){d.setState({playState:"paused"})})),n?(l=JSON.parse(a),h=l.i,p=l.cs,this.setState({initialValue:h,changeSets:p}),o.apply(h,p)):o.apply(r,s),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePlay",value:function(){var e=Object(h.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.stream){e.next=5;break}return e.next=4,this.loadStream();case 4:n=e.sent;case 5:"playing"===t?n.play():n.pause(),this.setState({playState:t,stream:n});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(j));oe.defaultProps={initialValue:"",changeSets:[]};var le=!1;le=window.top!=window.self;var ue=function(){return r.a.createElement("div",{className:"App"},!le&&r.a.createElement("header",{className:"App-header"},"Codeplaya"),!le&&r.a.createElement(c,null,r.a.createElement("h4",null,"About"),r.a.createElement("p",null,"Codeplaya is a code playback player inspired by the likes of ",r.a.createElement("a",{href:"https://asciinema.org/",target:"_blank"},"asciinema.")),r.a.createElement("p",null,"The project source is located ",r.a.createElement("a",{href:"https://github.com/unklearn/code-playa",target:"_blank"},"here")),r.a.createElement("blockquote",{style:{color:"red"}},"Warning! Alpha state software. This is more of a hackathon than a complete project. APIs may change without notice"),r.a.createElement("p",null,"\xa9 TMP")),r.a.createElement("main",{style:{margin:le?"0px":void 0,padding:le?"0px":"25px"}},r.a.createElement(oe,{editing:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[140,122,123]]]);
//# sourceMappingURL=main.a3c27fd6.chunk.js.map